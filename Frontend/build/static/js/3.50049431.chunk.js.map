{"version":3,"sources":["components/PostDetails/styles.js","components/PostDetails/CommentSection.jsx","components/PostDetails/PostDetails.jsx"],"names":["makeStyles","theme","media","borderRadius","objectFit","width","maxHeight","card","display","breakpoints","down","flexWrap","flexDirection","section","margin","flex","imageSection","marginLeft","recommendedPosts","loadingPaper","justifyContent","alignItems","padding","height","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","CommentSection","post","user","JSON","parse","localStorage","getItem","useState","comment","setComment","dispatch","useDispatch","comments","setComments","classes","useStyles","commentsRef","useRef","handleComment","a","commentPost","result","name","_id","newComments","current","scrollIntoView","behavior","className","Typography","gutterBottom","variant","map","c","i","key","split","ref","style","TextField","fullWidth","rows","label","multiline","value","onChange","e","target","Button","marginTop","disabled","length","color","onClick","Post","useSelector","state","posts","isLoading","history","useHistory","id","useParams","useEffect","getPost","getPostsBySearch","search","tags","join","Paper","elevation","CircularProgress","size","filter","component","title","tag","to","textDecoration","message","moment","createdAt","fromNow","Divider","src","selectedFile","alt","likes","cursor","push","openPost"],"mappings":"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","file":"static/js/3.50049431.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: '20px',\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    maxHeight: '600px',\r\n\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexWrap: 'wrap',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: '20px',\r\n    margin: '10px',\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: '20px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderRadius: '15px',\r\n    height: '39vh',\r\n  },\r\n  commentsOuterContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  commentsInnerContainer: {\r\n    height: '200px',\r\n    overflowY: 'auto',\r\n    marginRight: '30px',\r\n  },\r\n}));\r\n","import React, { useState, useRef } from 'react';\r\nimport { Typography, TextField, Button } from '@material-ui/core/';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { commentPost } from '../../actions/posts';\r\nimport useStyles from './styles';\r\n\r\nconst CommentSection = ({ post }) => {\r\n  const user = JSON.parse(localStorage.getItem('profile'));\r\n  const [comment, setComment] = useState('');\r\n  const dispatch = useDispatch();\r\n  const [comments, setComments] = useState(post?.comments);\r\n  const classes = useStyles();\r\n  const commentsRef = useRef();\r\n\r\n  const handleComment = async () => {\r\n    const newComments = await dispatch(commentPost(`${user?.result?.name}: ${comment}`, post._id));\r\n\r\n    setComment('');\r\n    setComments(newComments);\r\n\r\n    commentsRef.current.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.commentsOuterContainer}>\r\n        <div className={classes.commentsInnerContainer}>\r\n          <Typography gutterBottom variant=\"h6\">Comments</Typography>\r\n          {comments?.map((c, i) => (\r\n            <Typography key={i} gutterBottom variant=\"subtitle1\">\r\n              <strong>{c.split(': ')[0]}</strong>\r\n              {c.split(':')[1]}\r\n            </Typography>\r\n          ))}\r\n          <div ref={commentsRef} />\r\n        </div>\r\n        <div style={{ width: '70%' }}>\r\n          <Typography gutterBottom variant=\"h6\">Write a comment</Typography>\r\n          <TextField fullWidth rows={4} variant=\"outlined\" label=\"Comment\" multiline value={comment} onChange={(e) => setComment(e.target.value)} />\r\n          <br />\r\n          <Button style={{ marginTop: '10px' }} fullWidth disabled={!comment.length} color=\"primary\" variant=\"contained\" onClick={handleComment}>\r\n            Comment\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n","import React, { useEffect } from 'react';\r\nimport { Paper, Typography, CircularProgress, Divider } from '@material-ui/core/';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { useParams, useHistory, Link } from 'react-router-dom';\r\n\r\nimport { getPost, getPostsBySearch } from '../../actions/posts';\r\nimport CommentSection from './CommentSection';\r\nimport useStyles from './styles';\r\n\r\nconst Post = () => {\r\n  const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(getPostsBySearch({ search: 'none', tags: post?.tags.join(',') }));\r\n    }\r\n  }, [post]);\r\n\r\n  if (!post) return null;\r\n\r\n  const openPost = (_id) => history.push(`/posts/${_id}`);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n\r\n  return (\r\n    <Paper style={{ padding: '20px', borderRadius: '15px' }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" component=\"h2\">{post.title}</Typography>\r\n          <Typography gutterBottom variant=\"h6\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => (\r\n            <Link to={`/tags/${tag}`} style={{ textDecoration: 'none', color: '#3f51b5' }}>\r\n              {` #${tag} `}\r\n            </Link>\r\n          ))}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">{post.message}</Typography>\r\n          <Typography variant=\"h6\">\r\n            Created by:\r\n            <Link to={`/creators/${post.name}`} style={{ textDecoration: 'none', color: '#3f51b5' }}>\r\n              {` ${post.name}`}\r\n            </Link>\r\n          </Typography>\r\n          <Typography variant=\"body1\">{moment(post.createdAt).fromNow()}</Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <Typography variant=\"body1\"><strong>Realtime Chat - coming soon!</strong></Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <CommentSection post={post} />\r\n          <Divider style={{ margin: '20px 0' }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img className={classes.media} src={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'} alt={post.title} />\r\n        </div>\r\n      </div>\r\n      {!!recommendedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\">You might also like:</Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommendedPosts.map(({ title, name, message, likes, selectedFile, _id }) => (\r\n              <div style={{ margin: '20px', cursor: 'pointer' }} onClick={() => openPost(_id)} key={_id}>\r\n                <Typography gutterBottom variant=\"h6\">{title}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{name}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{message}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle1\">Likes: {likes.length}</Typography>\r\n                <img src={selectedFile} width=\"200px\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"sourceRoot":""}